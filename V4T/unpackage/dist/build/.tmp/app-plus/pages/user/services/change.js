(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/user/services/change"],{"0d0b":function(e,t,o){"use strict";o.r(t);var n=o("9e1d"),a=o("fb32");for(var s in a)"default"!==s&&function(e){o.d(t,e,function(){return a[e]})}(s);o("6ab0");var i=o("2877"),r=Object(i["a"])(a["default"],n["a"],n["b"],!1,null,null,null);t["default"]=r.exports},"6ab0":function(e,t,o){"use strict";var n=o("eb61"),a=o.n(n);a.a},"7c3a":function(e,t,o){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o={data:function(){return{username:"",password:"",passwordAgain:"",locked:!1}},onLoad:function(){},created:function(){},computed:{},methods:{back:function(){e.navigateBack({delta:1})},change:function(){var t=this;if(this.locked)e.showToast({title:"请不要重复提交！耐心等待！",icon:"none"});else{if(this.locked=!0,this.username.length<=0&&this.password.length<=0&&this.passwordAgain.length<=0)return e.showToast({title:"用户设置或密码修改不能为空！",icon:"none"}),void(this.locked=!1);0!=this.username.length&&e.request({url:this.websiteUrl+"/user/changename",method:"POST",header:{Cookie:e.getStorageSync("Cookie"),"Content-Type":"application/x-www-form-urlencoded"},data:{username:this.username},dataType:"json",success:function(o){1==o.data.code?(e.showToast({title:"用户名修改成功！",icon:"none"}),e.request({url:t.websiteUrl+"/user/getUser",method:"GET",header:{Cookie:e.getStorageSync("Cookie")},dataType:"json",success:function(o){var n=o.data.data;e.setStorageSync("localuser",n),e.request({url:t.websiteUrl+"/user/time",method:"GET",header:{Cookie:e.getStorageSync("Cookie")},dataType:"json",success:function(t){var o=t.data.data;e.setStorageSync("localtime",o)}})}})):e.showToast({title:"修改用户名失败！请更换一个或者联系管理员！",icon:"none"})},fail:function(t){e.showToast({title:"用户名修改请求失败！请检查网络",icon:"none"})}}),0!=this.password.length&&0!=this.passwordAgain.length&&(this.password!=this.passwordAgain?e.showToast({title:"两次密码不一致！",icon:"none"}):e.request({url:this.websiteUrl+"/user/changepassword",method:"POST",header:{Cookie:e.getStorageSync("Cookie"),"Content-Type":"application/x-www-form-urlencoded"},data:{password:this.password},dataType:"json",success:function(t){1==t.data.code?e.showToast({title:"密码修改成功！",icon:"none"}):e.showToast({title:"修改密码失败！请联系管理员！",icon:"none"})},fail:function(t){e.showToast({title:"密码修改失败！请检查网络",icon:"none"})}})),this.locked=!1}}}};t.default=o}).call(this,o("6e42")["default"])},"9e1d":function(e,t,o){"use strict";var n=function(){var e=this,t=e.$createElement;e._self._c},a=[];o.d(t,"a",function(){return n}),o.d(t,"b",function(){return a})},eb61:function(e,t,o){},fb32:function(e,t,o){"use strict";o.r(t);var n=o("7c3a"),a=o.n(n);for(var s in n)"default"!==s&&function(e){o.d(t,e,function(){return n[e]})}(s);t["default"]=a.a}},[["5ced","common/runtime","common/vendor"]]]);